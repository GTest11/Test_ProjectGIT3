#'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''' 
#TestCase ID: 
#Description: 
#Author: 
#Date: 
#Version: 

#''''''''''''''''''''AUTOGENERATED CODE - DO NOT MODIFY'''''''''''''''''''' 
import clr,sys,os,time 
from System.Collections.Generic import List
clr.AddReference("MobileScriptingLibrary") 
import MobileScriptingLibrary 
dut = MobileScriptingLibrary.MobileDUT() 
logger = MobileScriptingLibrary.Logger() 
chkpt = MobileScriptingLibrary.CheckPoint() 
config = MobileScriptingLibrary.DeviceConfig() 

#''''''''''''''''''''''''''''''''IMPORTS''''''''''''''''''''''''''''''''''' 
#''''''''''''''''''''''''''''''END IMPORTS''''''''''''''''''''''''''''''''' 

#''''''''''''''''''''''''''''''FOR iOS DEVICE'''''''''''''''''''''''''''''' 
#config.DeviceType = "iOS" 
#config.AppName = "com.google.ios.youtube" 


#''''''''''''''''''''''''''''FOR ANDROID DEVICE'''''''''''''''''''''''''''' 
config.DeviceType = "Android" 
#config.AppPackage = "com.bskyb.nowtv.beta" 
#config.AppActivity = "com.nowtv.view.activity.StartUpActivity" 
config.AppPackage = "com.google.android.youtube" 
config.AppActivity = ".HomeActivity" 


args = sys.argv 
scriptPath = os.path.realpath(__file__) 
dut.Configure(args[1],args[2],args[3],args[4],scriptPath) 
logger.Configure(args[1],args[2],args[3],args[4],scriptPath) 
       

try: 
	if(dut.InitApp(config)): 
		logger.Log("App launched.") 
		time.sleep(5)
		dut.validator.QuickCapture("app_launch")
		inputParam = MobileScriptingLibrary.HighPrecisionValidationService.MotionParams()
		tapData = MobileScriptingLibrary.Models.TapData()
		tapData.type=MobileScriptingLibrary.Constants.ElementType.XPath
		#tapData.value="//android.widget.ImageView[@resource-id='com.google.android.youtube:id/thumbnail']"#"//android.widget.ImageView[@content-desc='Search']"
		tapData.x_Cord = 250
		tapData.y_Cord = 250
		#dut.Tap(500,500)

		imagePath = dut.validator.QuickCapture("test1")
		tapDataList = List[MobileScriptingLibrary.Models.TapData]()
		tapDataList.Add(tapData)        
		#print type(inputParam)
		inputParam.x_cord = 102#0
		inputParam.y_cord = 108#0
		inputParam.width = 454#500
		inputParam.height = 188#500
		inputParam.sensitivity = 3
		lstInputParam =List[MobileScriptingLibrary.HighPrecisionValidationService.MotionParams]()
		lstInputParam.Add(inputParam)
		imagePath = dut.validator.QuickCapture("test2")
		inputParam.x_cord = 102
		inputParam.y_cord = 108
		inputParam.width = 454#500
		inputParam.height = 188#500
		inputParam.sensitivity = 3
		lstInputParam.Add(inputParam)
		#print type(lstInputParam)

		resp = dut.validator.GetScreenTransitions(dut,30,lstInputParam, tapDataList)
		imagePath = dut.validator.QuickCapture("test3")
	if resp is not None and resp.MotionData is not None :
		for i in resp.MotionData:
			logger.Log("Duration " + str(i.Duration))
			dut.CommitStepResult("Duration ", str(i.Duration))
	else:
			logger.Log("Unable to Launch DetectMotionExecutor")
			dut.CommitStepResult("Duration ","FAILED")


finally: 
	dut.Stop() 

#'''''''''''''''''''''''''END AUTOGENERATED CODE''''''''''''''''''''''''''' 
#''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
